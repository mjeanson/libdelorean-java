/*
 * Copyright (C) 2017 EfficiOS Inc., Alexandre Montplaisir <alexmonthy@efficios.com>
 * Copyright (C) 2016 Ericsson
 *
 * All rights reserved. This program and the accompanying materials are
 * made available under the terms of the Eclipse Public License v1.0 which
 * accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 */

package ca.polymtl.dorsal.libdelorean.backend;

import static org.junit.Assert.fail;

import java.io.IOException;

import org.junit.runner.RunWith;
import org.junit.runners.Parameterized;

import ca.polymtl.dorsal.libdelorean.backend.historytree.HistoryTreeBackend;

/**
 * Test the {@link HistoryTreeBackend} class by re-opening an existing file.
 */
@RunWith(Parameterized.class)
public class HistoryTreeBackendReOpenTest extends HistoryTreeBackendTest {

    @Override
    protected void afterInsertionCb() {
        /*
         * Close the existing backend, and instantiate a new one that will re-read the
         * same file.
         */
        fBackend.dispose();
        fBackend = new HistoryTreeBackend(SSID, fTempFile, PROVIDER_VERSION);

    }

}
